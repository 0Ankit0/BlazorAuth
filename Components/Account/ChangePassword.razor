@page "/account/changepassword"
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Identity
@using System.ComponentModel.DataAnnotations
@using Microsoft.AspNetCore.Components.Authorization
@attribute [Authorize]

<h1>Change Password</h1>
<EditForm Model="changePasswordModel" OnValidSubmit="HandleChangePassword">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <div class="form-floating mb-3">
        <InputText id="oldPassword" @bind-Value="changePasswordModel.OldPassword" class="form-control" type="password"
            placeholder="Current password" />
        <label for="oldPassword">Current password</label>
    </div>
    <div class="form-floating mb-3">
        <InputText id="newPassword" @bind-Value="changePasswordModel.NewPassword" class="form-control" type="password"
            placeholder="New password" />
        <label for="newPassword">New password</label>
    </div>
    <div class="form-floating mb-3">
        <InputText id="confirmPassword" @bind-Value="changePasswordModel.ConfirmPassword" class="form-control"
            type="password" placeholder="Confirm new password" />
        <label for="confirmPassword">Confirm new password</label>
    </div>
    <button type="submit" class="w-100 btn btn-lg btn-primary">Change Password</button>
</EditForm>
@if (!string.IsNullOrEmpty(statusMessage))
{
    <div class="alert alert-info mt-2">@statusMessage</div>
}
